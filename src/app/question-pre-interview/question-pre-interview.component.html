<!-- NAVBAR -->
<nav class="navbar">
  <div class="navbar-left">
    <button class="hamburger" (click)="toggleSidebar()" aria-label="Toggle sidebar">
      <span></span><span></span><span></span>
    </button>
    <span class="brand">SIGA <small class="brand-sub">Admin</small></span>
  </div>

  <form class="search-wrapper" (submit)="$event.preventDefault(); applyFilter()">
    <div class="search-field">
      <input
        class="search"
        type="search"
        [(ngModel)]="searchTerm"
        name="search"
        placeholder="Recherche: nom, prÃ©nom, email..."
        aria-label="Search candidates"
      />
      <button class="btn btn-search" type="button" (click)="applyFilter()" title="Rechercher">
        <i class="fas fa-search"></i>
      </button>
    </div>
  </form>

  <div class="navbar-right">
    <div class="notif">
      <button class="icon-btn" title="Notifications"><i class="fas fa-bell"></i></button>
    </div>

    <div class="user">
      <div class="user-info">
        <div class="user-emoji">ðŸ‘‹</div>
        <div class="user-text">
          <div class="user-hi">Bienvenue</div>
          <div class="user-name">{{ username }}</div>
        </div>
      </div>
      <button class="btn-logout" title="DÃ©connexion" (click)="onLogout()">
          <i class="fas fa-sign-out-alt"></i>
      </button>    </div>
  </div>
</nav>

<!-- SIDEBAR -->
<aside class="sidebar" [class.collapsed]="sidebarCollapsed">
  <div class="sidebar-top">
    <div class="brand">
      <i class="fas fa-rocket"></i>
      <span>SIGA</span>
    </div>
    <button class="collapse-btn" (click)="toggleSidebar()" title="Toggle Sidebar">
      <i class="fas" [ngClass]="sidebarCollapsed ? 'fa-angle-right' : 'fa-angle-left'"></i>
    </button>
  </div>

     <nav class="nav-links">
    <a routerLink="/getall" routerLinkActive="active"><i class="fas fa-tachometer-alt"></i><span class="link-text">Dashboard</span></a>
    <a routerLink="/recommendation" routerLinkActive="active"><i class="fas fa-file-alt"></i><span class="link-text">Analyse CV</span></a>
    <a routerLink="/getCandidats" routerLinkActive="active"><i class="fas fa-users"></i><span class="link-text">Candidats</span></a>
    <a routerLink="/Calendrier" routerLinkActive="active"><i class="fas fa-calendar-alt"></i><span class="link-text">Calendrier</span></a>
  </nav>

  <div class="sidebar-bottom">
    <div class="user-profile">
      <div class="avatar">ðŸ‘‹</div>
      <div class="user-info">
        <span class="name">Admin</span>
        <small class="role">Super Admin</small>
      </div>
    </div>
    <small class="version">v1.0 â€¢ SIGA</small>
  </div>
</aside>


<!-- Main Content -->
<div class="content container mt-5">
  <h2>Ajouter des Questions PrÃ©-Interview</h2>
  <form #questionForm="ngForm" (ngSubmit)="addQuestions(questionForm)" class="question-form">

    <div *ngFor="let q of questionData; let i = index" class="form-group row mb-2">
      <label>Question {{ i + 1 }} :</label>
      <div class="d-flex gap-2">
        <input type="text" class="form-control"
               [(ngModel)]="q.question"
               name="question{{i}}"
               required minlength="3"
               [ngClass]="{'is-invalid': questionForm.submitted && !q.question}">
        <button type="button" class="btn btn-danger" (click)="removeQuestionField(i)" *ngIf="questionData.length > 1">
          <i class="fas fa-trash"></i>
        </button>
      </div>
    </div>

    <button type="button" class="btn btn-secondary mt-2" (click)="addQuestionField()">
      Ajouter une question
    </button>

    <button type="submit" class="btn btn-primary mt-2" [disabled]="isLoading">
      {{ isLoading ? 'Enregistrement...' : 'Ajouter toutes les questions' }}
    </button>
  </form>

  <div class="message mt-3" 
       [ngClass]="{'success': message && !message.includes('Erreur'), 'error': message && message.includes('Erreur')}" 
       *ngIf="message">
      {{ message }}
  </div>
</div>
<footer class="footer">
  <div class="footer-left">
    <div class="brand-info">
      <strong>SIGA</strong>
      <span>â€¢ 13 Rue Ibn Nafis, Les berges du Lac 3, Tunis</span>
    </div>
    <div class="footer-links">
      <a href="mailto:contact&#64;siga.com.tn" title="Contact via email">
        <i class="fas fa-envelope"></i> contact&#64;siga.com.tn
      </a>
      <span>â€¢</span>
      <a href="tel:+21671960281" title="Call"><i class="fas fa-phone"></i> (+216) 71 960 281</a>
    </div>
  </div>

  <div class="footer-right">
    <span>v1.0</span>
    <a href="#" title="Privacy Policy">Privacy</a>
    <a href="#" title="Terms of Service">Terms</a>
  </div>
</footer>
