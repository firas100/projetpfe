<!-- ═══════════════════════════════════════════════════════════════
     ULTIMATE PREMIUM HR RECRUITMENT DASHBOARD - JOB OFFERS MODULE
     Enhanced Design System - Professional Recruitment Experience
     ═══════════════════════════════════════════════════════════════ -->

<!-- NAVBAR - Ultimate Premium Design -->
<nav class="navbar">
  <div class="navbar-container">
    <!-- Left Section -->
    <div class="navbar-left">
      <button class="hamburger" (click)="toggleSidebar()" aria-label="Toggle sidebar">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
      <div class="brand-logo">
        <div class="logo-icon">
          <i class="fas fa-rocket"></i>
          <div class="logo-shine"></div>
        </div>
        <div class="logo-text">
          <span class="brand">SIGA</span>
          <span class="brand-sub">Recruitment Excellence</span>
        </div>
      </div>
    </div>

    <!-- Center Search -->
    <form class="search-wrapper" (submit)="$event.preventDefault(); applyFilter()">
      <div class="search-field">
        <i class="fas fa-search search-icon"></i>
        <input
          class="search"
          type="search"
          [(ngModel)]="searchTerm"
          name="search"
          placeholder="Rechercher une offre par titre, compétences..."
          aria-label="Search offers"
          (input)="applyFilter()"
        />
        <button 
          *ngIf="searchTerm" 
          type="button" 
          class="search-clear"
          aria-label="Clear search"
        >
          <i class="fas fa-times"></i>
        </button>
        <kbd class="search-shortcut">⌘K</kbd>
      </div>
    </form>

    <!-- Right Section -->
    <div class="navbar-right">
      <button class="icon-btn notif-btn" title="Notifications" aria-label="Notifications">
        <i class="fas fa-bell"></i>
        <span class="badge-dot"></span>
        <span class="badge-count">3</span>
      </button>
      
      <div class="divider-vertical"></div>
      
      <div class="user-menu">
        <div class="user-avatar">
          <div class="avatar-gradient">
            <span>{{ username.charAt(0).toUpperCase() }}</span>
          </div>
          <div class="status-indicator online"></div>
        </div>
        <div class="user-details">
          <span class="user-greeting">Bonjour,</span>
          <span class="user-name">{{ username }}</span>
        </div>
        <button class="btn-logout" title="Déconnexion" (click)="onLogout()" aria-label="Logout">
          <i class="fas fa-sign-out-alt"></i>
        </button>
      </div>
    </div>
  </div>
  <div class="navbar-glow"></div>
</nav>

<!-- SIDEBAR - Ultimate Premium Design -->
<aside class="sidebar" [class.collapsed]="sidebarCollapsed">
  <div class="sidebar-header">
    <div class="sidebar-brand">
      <div class="brand-icon">
        <i class="fas fa-users-cog"></i>
        <div class="icon-pulse"></div>
      </div>
      <span class="brand-text">SIGA HR</span>
    </div>
    <button class="collapse-toggle" (click)="toggleSidebar()" aria-label="Toggle sidebar">
      <i class="fas" [ngClass]="sidebarCollapsed ? 'fa-chevron-right' : 'fa-chevron-left'"></i>
    </button>
  </div>

  <nav class="sidebar-nav">
    <!-- Main Menu -->
    <div class="nav-section">
      <span class="nav-section-title">Menu Principal</span>
      
      <a routerLink="/getall" class="nav-link" routerLinkActive="active">
        <div class="nav-icon">
          <i class="fas fa-chart-line"></i>
        </div>
        <span class="nav-text">Dashboard</span>
        <div class="nav-indicator"></div>
      </a>
      
      <a routerLink="/recommendation" routerLinkActive="active" class="nav-link">
        <div class="nav-icon">
          <i class="fas fa-brain"></i>
        </div>
        <span class="nav-text">Analyse CV</span>
        <div class="nav-indicator"></div>
      </a>
      
      <a routerLink="/HistoriqueCandidat" routerLinkActive="active" class="nav-link">
        <div class="nav-icon">
          <i class="fas fa-history"></i>
        </div>
        <span class="nav-text">Historique</span>
        <div class="nav-indicator"></div>
      </a>
      
      <a routerLink="/getCandidats" class="nav-link" routerLinkActive="active">
        <div class="nav-icon">
          <i class="fas fa-user-friends"></i>
        </div>
        <span class="nav-text">Candidats</span>
        <div class="nav-indicator"></div>
      </a>
    </div>

    <!-- Management Section -->
    <div class="nav-section">
      <span class="nav-section-title">Gestion</span>
      
      <a routerLink="/Calendrier" class="nav-link" routerLinkActive="active">
        <div class="nav-icon">
          <i class="fas fa-calendar-check"></i>
        </div>
        <span class="nav-text">Calendrier</span>
        <div class="nav-indicator"></div>
      </a>
      
      <a routerLink="/OfferByAdmin" class="nav-link active" routerLinkActive="active">
        <div class="nav-icon">
          <i class="fas fa-briefcase"></i>
        </div>
        <span class="nav-text">Offres</span>
        <div class="nav-indicator"></div>
      </a>
    </div>
  </nav>

  <div class="sidebar-footer">
    <div class="user-card">
      <div class="user-avatar-small">
        <span>{{ username.charAt(0).toUpperCase() }}</span>
        <div class="avatar-ring"></div>
      </div>
      <div class="user-info-small">
        <span class="user-name-small">{{ username }}</span>
        <span class="user-role">Administrateur RH</span>
      </div>
    </div>
    
    <div class="app-version">
      <i class="fas fa-shield-check"></i>
      <span>Version 1.0.0</span>
    </div>
  </div>
</aside>

<!-- MAIN CONTENT -->
<main class="content" [class.expanded]="sidebarCollapsed">
  <!-- FORMULAIRE AJOUT OFFRE -->
  <div class="form-container">
    <div class="form-header">
      <h3>Ajouter une Offre</h3>
      <p>Remplissez les informations de l'offre à publier.</p>
    </div>

    <form #offreForm="ngForm" (ngSubmit)="submitOffre(offreForm)" novalidate>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="titre">Titre de l'offre <span class="required">*</span></label>
          <input type="text" id="titre" name="titreOffre" class="form-input" [(ngModel)]="offre.titreOffre" required />
          <div class="error-text" *ngIf="offreForm.submitted && !offre.titreOffre">Ce champ est requis</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="description">Description du poste <span class="required">*</span></label>
          <textarea id="description" name="descriptionJob" class="form-input" [(ngModel)]="offre.descriptionJob" required></textarea>
          <div class="error-text" *ngIf="offreForm.submitted && !offre.descriptionJob">Ce champ est requis</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="competences">Compétences techniques <span class="required">*</span></label>
          <textarea id="competences" name="competencesTechniques" class="form-input" [(ngModel)]="offre.competencesTechniques" required></textarea>
          <div class="error-text" *ngIf="offreForm.submitted && !offre.competencesTechniques">Ce champ est requis</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="profil">Profil recherché <span class="required">*</span></label>
          <textarea id="profil" name="profilRecherche" class="form-input" [(ngModel)]="offre.profilRecherche" required></textarea>
          <div class="error-text" *ngIf="offreForm.submitted && !offre.profilRecherche">Ce champ est requis</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group full-width">
          <label for="nbre">Nombre de postes <span class="required">*</span></label>
          <input type="number" id="nbre" name="nbreDePoste" class="form-input" [(ngModel)]="offre.nbreDePoste" required min="1"/>
          <div class="error-text" *ngIf="offreForm.submitted && !offre.nbreDePoste">Ce champ est requis</div>
        </div>
      </div>

      <div class="form-row">
        <button type="submit" class="btn-primary" [disabled]="isSubmitting">
          {{ isSubmitting ? 'Ajout en cours...' : 'Ajouter l\'offre' }}
        </button>
      </div>

      <div class="message" [ngClass]="{'success': message && !message.includes('Erreur'), 'error': message.includes('Erreur')}" *ngIf="message">
        {{ message }}
      </div>

    </form>
  </div>
</main>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-left">
    <div class="brand-info">
      <strong>SIGA</strong>
      <span>• 13 Rue Ibn Nafis, Les berges du Lac 3, Tunis</span>
    </div>
    <div class="footer-links">
      <a href="mailto:contact&#64;siga.com.tn"><i class="fas fa-envelope"></i> contact&#64;siga.com.tn</a>
      <span>•</span>
      <a href="tel:+21671960281"><i class="fas fa-phone"></i> (+216) 71 960 281</a>
    </div>
  </div>
  <div class="footer-right">
    <span>v1.0</span>
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
  </div>
</footer>
